<!-- Warning: Do not manually edit this file. See notes on gluon + helm-docs at the end of this file for more information. -->
# jfrog-platform

![Version: 11.3.0](https://img.shields.io/badge/Version-11.3.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 7.125.4](https://img.shields.io/badge/AppVersion-7.125.4-informational?style=flat-square) ![Maintenance Track: stable](https://img.shields.io/badge/Maintenance_Track-stable-red?style=flat-square)

The Helm chart for JFrog Platform (Universal, hybrid, end-to-end DevOps automation)

## Upstream References

- <https://jfrog.com/platform/>
- <https://github.com/jfrog/charts>

## Upstream Release Notes

- [Jfrog Platform chart's changelog](https://github.com/jfrog/charts/blob/master/stable/jfrog-platform/CHANGELOG.md)

## Learn More

This chart will do the following:

- Deploy JFrog Platform (Artifactory, Xray, Catalog, Curation, JAS, Worker and Distribution). Fully customizable.
- Deploy a PostgreSQL database using the bitnami/postgresql chart (can be changed) NOTE: For production grade installations it is recommended to use an external PostgreSQL.
- Deploy a Rabbitmq using the bitnami/rabbitmq chart (can be changed)
- Deploy an optional Nginx server

## Pre-Requisites

- Kubernetes Cluster deployed
- Kubernetes config installed in `~/.kube/config`
- Helm installed
- Artifactory Enterprise(+) trial license [get one from here](https://jfrog.com/platform/free-trial/) or Pro trial license [get one from here](https://www.jfrog.com/artifactory/free-trial/)

Kubernetes: `>= 1.23.0-0`

Install Helm

https://helm.sh/docs/intro/install/

## Deployment

- Clone down the repository
- cd into directory

```bash
helm install jfrog-platform chart/
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| gaUpgradeReady | bool | `false` |  |
| databaseUpgradeReady | bool | `false` |  |
| global.security.allowInsecureImages | bool | `true` |  |
| global.imageRegistry | string | `"releases-docker.jfrog.io"` |  |
| global.jfrogUrl | string | `"{{ include \"jfrog-platform.jfrogUrl\" . }}"` |  |
| global.joinKey | string | `"EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE"` |  |
| global.masterKey | string | `"bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"` |  |
| global.versions | object | `{}` |  |
| global.database.host | string | `"{{ .Release.Name }}-postgresql"` |  |
| global.database.port | int | `5432` |  |
| global.database.sslMode | string | `"disable"` |  |
| global.database.adminPassword | string | `"postgres"` |  |
| global.database.secrets | object | `{}` |  |
| global.database.initContainerSetupDBImage | string | `"{{ .Values.global.imageRegistry }}/bitnami/postgresql:17.6.0-debian-12-r2"` |  |
| global.database.initContainerSetupDBUser | string | `nil` |  |
| global.database.initContainerImagePullPolicy | string | `"IfNotPresent"` |  |
| global.database.initContainerImageResources.requests.cpu | string | `"5m"` |  |
| global.database.initContainerImageResources.requests.memory | string | `"10Mi"` |  |
| global.database.initContainerImageResources.limits.cpu | int | `1` |  |
| global.database.initContainerImageResources.limits.memory | string | `"1Gi"` |  |
| global.database.initDBCreation | bool | `true` |  |
| global.customCertificates.enabled | bool | `false` |  |
| global.customInitContainersBegin | string | `"{{ template \"initdb\" . }}\n"` |  |
| global.customVolumes | string | `"{{ template \"initdb-volume\" . }}\n"` |  |
| global.rabbitmq.auth.tls.enabled | bool | `false` |  |
| global.rabbitmq.auth.tls.autoGenerated | bool | `true` |  |
| global.xray.rabbitmq.vhost | string | `"xray"` |  |
| global.xray.rabbitmq.replicaCount | int | `1` |  |
| global.xray.rabbitmq.haQuorum.enabled | bool | `false` |  |
| global.xray.rabbitmq.haQuorum.waitForPreviousPodsOnInitialStartup | bool | `true` |  |
| global.xray.rabbitmq.haQuorum.vhost | string | `"xray_haq"` |  |
| postgresql.enabled | bool | `true` |  |
| postgresql.enablePostgresUser | bool | `true` |  |
| postgresql.image.repository | string | `"bitnami/postgresql"` |  |
| postgresql.image.tag | string | `"17.6.0-debian-12-r2"` |  |
| postgresql.auth.postgresPassword | string | `"postgres"` |  |
| postgresql.primary.extendedConfiguration | string | `"max_connections = 1000\nmax_wal_size = 1000MB\n"` |  |
| postgresql.primary.persistence.size | string | `"500Gi"` |  |
| postgresql.upgradeHookSTSDelete.enabled | bool | `true` |  |
| postgresql.upgradeHookSTSDelete.annotations | object | `{}` |  |
| postgresql.upgradeHookSTSDelete.job.annotations | object | `{}` |  |
| postgresql.upgradeHookSTSDelete.image.registry | string | `"{{ .Values.global.imageRegistry }}"` |  |
| postgresql.upgradeHookSTSDelete.image.repository | string | `"bitnami/kubectl"` |  |
| postgresql.upgradeHookSTSDelete.image.tag | string | `"1.31.2"` |  |
| postgresql.upgradeHookSTSDelete.image.pullPolicy | string | `"IfNotPresent"` |  |
| postgresql.upgradeHookSTSDelete.resources.requests.cpu | string | `"5m"` |  |
| postgresql.upgradeHookSTSDelete.resources.requests.memory | string | `"10Mi"` |  |
| postgresql.upgradeHookSTSDelete.resources.limits.cpu | float | `0.5` |  |
| postgresql.upgradeHookSTSDelete.resources.limits.memory | string | `"1Gi"` |  |
| postgresql.upgradeHookSTSDelete.tolerations | list | `[]` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.create | bool | `true` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.name | string | `nil` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.automountServiceAccountToken | bool | `true` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.create | bool | `true` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.role.rules[0].apiGroups[0] | string | `"apps"` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.role.rules[0].resources[0] | string | `"statefulsets"` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.role.rules[0].verbs[0] | string | `"get"` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.role.rules[0].verbs[1] | string | `"delete"` |  |
| postgresql.upgradeHookSTSDelete.serviceAccount.rbac.role.rules[0].verbs[2] | string | `"list"` |  |
| rabbitmq.enabled | bool | `true` |  |
| rabbitmq.rabbitmqUpgradeReady | bool | `false` |  |
| rabbitmq.replicaCount | int | `1` |  |
| rabbitmq.image.repository | string | `"bitnami/rabbitmq"` |  |
| rabbitmq.image.tag | string | `"3.13.7-debian-12-r6"` |  |
| rabbitmq.extraPlugins | string | `"rabbitmq_management"` |  |
| rabbitmq.auth.tls.enabled | bool | `false` |  |
| rabbitmq.auth.tls.autoGenerated | bool | `true` |  |
| rabbitmq.auth.tls.failIfNoPeerCert | bool | `false` |  |
| rabbitmq.auth.tls.sslOptionsVerify | string | `"verify_peer"` |  |
| rabbitmq.auth.tls.failIfNoCert | bool | `false` |  |
| rabbitmq.auth.tls.sslOptionsPassword.enabled | bool | `false` |  |
| rabbitmq.auth.tls.sslOptionsPassword.existingSecret | string | `""` |  |
| rabbitmq.auth.tls.sslOptionsPassword.key | string | `""` |  |
| rabbitmq.auth.tls.sslOptionsPassword.password | string | `""` |  |
| rabbitmq.auth.tls.caCertificate | string | `nil` |  |
| rabbitmq.auth.tls.serverCertificate | string | `nil` |  |
| rabbitmq.auth.tls.serverKey | string | `nil` |  |
| rabbitmq.auth.tls.existingSecretFullChain | bool | `false` |  |
| rabbitmq.auth.tls.overrideCaCertificate | string | `""` |  |
| rabbitmq.auth.username | string | `"admin"` |  |
| rabbitmq.auth.password | string | `"password"` |  |
| rabbitmq.auth.erlangCookie | string | `"secretcookie"` |  |
| rabbitmq.featureFlags | string | `"drop_unroutable_metric,empty_basic_get_metric,implicit_default_bindings,maintenance_mode_status,quorum_queue,stream_queue,user_limits,virtual_host_metadata"` |  |
| rabbitmq.maxAvailableSchedulers | string | `nil` |  |
| rabbitmq.onlineSchedulers | string | `nil` |  |
| rabbitmq.persistence.size | string | `"50Gi"` |  |
| rabbitmq.tolerations | list | `[]` |  |
| rabbitmq.extraEnvVars[0].name | string | `"RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS"` |  |
| rabbitmq.extraEnvVars[0].value | string | `"+S 2:2 +sbwt none +sbwtdcpu none +sbwtdio none"` |  |
| rabbitmq.loadDefinition.enabled | bool | `true` |  |
| rabbitmq.loadDefinition.existingSecret | string | `"{{ .Release.Name }}-load-definition"` |  |
| rabbitmq.migration.enabled | bool | `true` |  |
| rabbitmq.migration.annotations | object | `{}` |  |
| rabbitmq.migration.job.annotations | object | `{}` |  |
| rabbitmq.migration.deleteStatefulSetToAllowFieldUpdate.enabled | bool | `false` |  |
| rabbitmq.migration.removeHaPolicyOnMigrationToHaQuorum.enabled | bool | `false` |  |
| rabbitmq.migration.image.registry | string | `"{{ .Values.global.imageRegistry }}"` |  |
| rabbitmq.migration.image.repository | string | `"bitnami/kubectl"` |  |
| rabbitmq.migration.image.tag | string | `"1.31.2"` |  |
| rabbitmq.migration.image.pullPolicy | string | `"IfNotPresent"` |  |
| rabbitmq.migration.resources.requests.cpu | string | `"5m"` |  |
| rabbitmq.migration.resources.requests.memory | string | `"10Mi"` |  |
| rabbitmq.migration.resources.limits.cpu | int | `1` |  |
| rabbitmq.migration.resources.limits.memory | string | `"1Gi"` |  |
| rabbitmq.migration.serviceAccount.create | bool | `true` |  |
| rabbitmq.migration.serviceAccount.name | string | `nil` |  |
| rabbitmq.migration.serviceAccount.automountServiceAccountToken | bool | `true` |  |
| rabbitmq.migration.serviceAccount.rbac.create | bool | `true` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].apiGroups[0] | string | `""` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].resources[0] | string | `"pods/exec"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].resources[1] | string | `"pods"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].verbs[0] | string | `"create"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].verbs[1] | string | `"get"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[0].verbs[2] | string | `"list"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[1].apiGroups[0] | string | `"apps"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[1].resources[0] | string | `"statefulsets"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[1].verbs[0] | string | `"get"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[1].verbs[1] | string | `"list"` |  |
| rabbitmq.migration.serviceAccount.rbac.role.rules[1].verbs[2] | string | `"delete"` |  |
| rabbitmq.extraConfiguration | string | `"management.listener.ssl = {{ .Values.global.rabbitmq.auth.tls.enabled }}"` |  |
| rabbitmq.initContainers | string | `"{{ template \"waitForPreviousPods\" . }}\n"` |  |
| artifactory.enabled | bool | `true` |  |
| artifactory.unifiedUpgradeAllowed | bool | `true` |  |
| artifactory.installerInfo | string | `"{\"productId\":\"Helm_JFrogPlatform/{{ printf \"11.3.0-%s\" .Chart.AppVersion  }}\",\"features\":[{\"featureId\":\"Platform/{{ printf \"%s-%s\" \"kubernetes\" .Capabilities.KubeVersion.Version }}\"},{\"featureId\":\"Database/{{ .Values.database.type }}\"},{\"featureId\":\"Nginx_Enabled/{{ .Values.nginx.enabled }}\"},{\"featureId\":\"ArtifactoryPersistence_Type/{{ .Values.artifactory.persistence.type }}\"},{\"featureId\":\"SplitServicesToContainers_Enabled/{{ .Values.splitServicesToContainers }}\"},{\"featureId\":\"Filebeat_Enabled/{{ .Values.filebeat.enabled }}\"},{\"featureId\":\"ReplicaCount/{{ .Values.artifactory.replicaCount }}\"}]}"` |  |
| artifactory.postgresql.enabled | bool | `false` |  |
| artifactory.waitForDatabase | bool | `false` |  |
| artifactory.database.type | string | `"postgresql"` |  |
| artifactory.database.driver | string | `"org.postgresql.Driver"` |  |
| artifactory.database.url | string | `"{{ include \"database.url\" . }}"` |  |
| artifactory.database.user | string | `"artifactory"` |  |
| artifactory.database.password | string | `"artifactory"` |  |
| artifactory.mc.enabled | bool | `false` |  |
| artifactory.artifactory.worker.enabled | string | `"{{ .Values.worker.enabled }}"` |  |
| artifactory.artifactory.unifiedSecretInstallation | bool | `true` |  |
| artifactory.artifactory.unifiedSecretPrependReleaseName | bool | `true` |  |
| artifactory.artifactory.replicaCount | int | `1` |  |
| artifactory.artifactory.migration.enabled | bool | `false` |  |
| artifactory.artifactory.persistence.size | string | `"200Gi"` |  |
| xray.enabled | bool | `true` |  |
| xray.unifiedUpgradeAllowed | bool | `true` |  |
| xray.xray.unifiedSecretInstallation | bool | `true` |  |
| xray.postgresql.enabled | bool | `false` |  |
| xray.database.url | string | `"{{ include \"database.url\" . }}"` |  |
| xray.database.user | string | `"xray"` |  |
| xray.database.password | string | `"xray"` |  |
| xray.common.persistence.size | string | `"200Gi"` |  |
| xray.common.rabbitmq.connectionConfigFromEnvironment | bool | `false` |  |
| xray.common.extraEnvVars | string | `"{{- if not .Values.global.xray.rabbitmq.haQuorum.enabled }}\n- name: \"JF_SHARED_RABBITMQ_VHOST\"\n  value: \"xray\"\n{{- end }}\n"` |  |
| xray.rabbitmq.enabled | bool | `false` |  |
| xray.rabbitmq.external.erlangCookie | string | `"secretcookie"` |  |
| xray.rabbitmq.external.secrets.username.name | string | `"{{ .Release.Name }}-xray-rabbitmq-creds"` |  |
| xray.rabbitmq.external.secrets.username.key | string | `"username"` |  |
| xray.rabbitmq.external.secrets.password.name | string | `"{{ .Release.Name }}-xray-rabbitmq-creds"` |  |
| xray.rabbitmq.external.secrets.password.key | string | `"password"` |  |
| xray.rabbitmq.external.secrets.url.name | string | `"{{ .Release.Name }}-xray-rabbitmq-creds"` |  |
| xray.rabbitmq.external.secrets.url.key | string | `"url"` |  |
| catalog.enabled | bool | `false` |  |
| catalog.database.url | string | `"{{ include \"database.url\" . }}"` |  |
| catalog.database.user | string | `"catalog"` |  |
| catalog.database.password | string | `"catalog"` |  |
| distribution.enabled | bool | `false` |  |
| distribution.unifiedUpgradeAllowed | bool | `true` |  |
| distribution.distribution.unifiedSecretInstallation | bool | `true` |  |
| distribution.postgresql.enabled | bool | `false` |  |
| distribution.database.url | string | `"{{ include \"database.url\" . }}"` |  |
| distribution.database.user | string | `"distribution"` |  |
| distribution.database.password | string | `"distribution"` |  |
| worker.enabled | bool | `false` |  |
| preUpgradeHook.enabled | bool | `true` |  |
| preUpgradeHook.annotations | object | `{}` |  |
| preUpgradeHook.job.annotations | object | `{}` |  |
| preUpgradeHook.image.registry | string | `"{{ .Values.global.imageRegistry }}"` |  |
| preUpgradeHook.image.repository | string | `"bitnami/kubectl"` |  |
| preUpgradeHook.image.tag | string | `"1.31.2"` |  |
| preUpgradeHook.image.pullPolicy | string | `"IfNotPresent"` |  |
| preUpgradeHook.resources.requests.cpu | string | `"5m"` |  |
| preUpgradeHook.resources.requests.memory | string | `"10Mi"` |  |
| preUpgradeHook.resources.limits.cpu | int | `1` |  |
| preUpgradeHook.resources.limits.memory | string | `"1Gi"` |  |
| preUpgradeHook.tolerations | list | `[]` |  |
| preUpgradeHook.podSecurityContext.enabled | bool | `false` |  |
| preUpgradeHook.containerSecurityContext.enabled | bool | `false` |  |

## Contributing

Please see the [contributing guide](./CONTRIBUTING.md) if you are interested in contributing.

---

_This file is programatically generated using `helm-docs` and some BigBang-specific templates. The `gluon` repository has [instructions for regenerating package READMEs](https://repo1.dso.mil/big-bang/product/packages/gluon/-/blob/master/docs/bb-package-readme.md)._

